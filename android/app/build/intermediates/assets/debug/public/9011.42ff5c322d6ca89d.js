"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9011],{9011:(x,f,o)=>{o.r(f),o.d(f,{StreamsPageModule:()=>N});var P=o(6895),r=o(8058),v=o(433),g=o(1407),u=o(655),t=o(8256),y=o(529),M=o(849),T=o(7977),b=o(7576),C=o(8024);const z=[{path:"",component:(()=>{class a{constructor(e,n,d,s,l,S){this.http=e,this.storage=n,this.router=d,this.streamingMedia=s,this.navCtrl=l,this.platform=S,this.selectTabs="Detecciones",this.isOpen6=!1,this.selected6=[],this.filtered6=[],this.data6=[],this.canalesS=[],this.streamplaza=[],this.streamcanal=[],this.locations=[],this.canales=[],this.library=[]}ngOnInit(){}selectChanged(e){console.log("CHANGED: ",e)}backbutton(){this.platform.backButton.subscribeWithPriority(9999,()=>{document.addEventListener("backbutton",function(e){e.preventDefault(),e.stopPropagation(),console.log("back button pressed")},!1)})}botonbuscarStream(){return(0,u.mG)(this,void 0,void 0,function*(){let e=yield this.storage.get("Cstream");console.log(e),this.streamingMedia.playVideo(e[0].stream,{successCallback:()=>{console.log("Video played")},errorCallback:()=>{console.log("Error Stream")},orientation:"landscape",shouldAutoClose:!0,controls:!1})})}SelectOption(e){const n=e.detail.value;this.storage.set("Scanal",n),console.log(n)}loadLocationsStream(){return(0,u.mG)(this,void 0,void 0,function*(){let e=yield this.storage.get("id");this.http.get("https://backup.tregional.mx/AbetCloud/models/queries/app/C_getPlazas.php?uss="+e).subscribe(n=>{this.streamplaza=n,console.log(this.streamplaza)})})}loadCanalesStream(){return(0,u.mG)(this,void 0,void 0,function*(){let e=yield this.storage.get("id"),n=yield this.storage.get("plaza"),s=(yield this.storage.get("p"),""),l=yield this.storage.get("canal");yield this.storage.get("library"),null==l&&(l=[]);for(let c=0;c<n.length;c++)s=s+",'"+n[c].Name+"'";s=s.slice(1),this.http.get("https://backup.tregional.mx/AbetCloud/models/queries/app/C_getPlazasstreams.php?uss="+e+"&p="+s).subscribe(c=>{this.streamcanal=c,console.log(this.streamcanal);let p=c;for(var m=0;m<p.length;m++)for(var h=0;h<l.length;h++)l[h].ChannelID==p[m].ChannelID&&(p[m].selected=!0)})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(y.eN),t.Y36(M.K),t.Y36(g.F0),t.Y36(T.y),t.Y36(r.SH),t.Y36(r.t4))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-streams"]],decls:19,vars:5,consts:[[1,"ion-no-border"],["id","btn-menu","slot","start"],[3,"fullscreen"],["shape","round","fill","outline","expand","block","id","btnbuscarStream","disabled","true",3,"click"],["id","filtroStream"],[3,"click"],["itemTextField","Name",1,"searchable",3,"data5","multiple","selectChanged"],["select5",""],["id","streamcanal","disabled","true",3,"click"],["itemTextField","Name_channel",1,"searchable",3,"data6","multiple","selectChanged"],["select6",""]],template:function(e,n){if(1&e){const d=t.EpF();t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-menu-button"),t.qZA()()(),t.TgZ(4,"ion-content",2),t._UZ(5,"br"),t.TgZ(6,"ion-button",3),t.NdJ("click",function(){return n.botonbuscarStream()}),t._uU(7,"Buscar Stream"),t.qZA(),t.TgZ(8,"div",4)(9,"ion-item",5),t.NdJ("click",function(){t.CHM(d);const l=t.MAs(13);return t.KtG(l.open5())})("click",function(){return n.loadLocationsStream()}),t.TgZ(10,"ion-label"),t._uU(11,"Selecciona Plaza"),t.qZA(),t.TgZ(12,"app-stream-plaza",6,7),t.NdJ("selectChanged",function(l){return n.selectChanged(l)}),t.qZA()(),t.TgZ(14,"ion-item",8),t.NdJ("click",function(){t.CHM(d);const l=t.MAs(18);return t.KtG(l.open6())})("click",function(){return n.loadCanalesStream()}),t.TgZ(15,"ion-label"),t._uU(16,"Selecciona Canal"),t.qZA(),t.TgZ(17,"app-stream-canal",9,10),t.NdJ("selectChanged",function(l){return n.selectChanged(l)}),t.qZA()()()()}2&e&&(t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(8),t.Q6J("data5",n.streamplaza)("multiple",!0),t.xp6(5),t.Q6J("data6",n.streamcanal)("multiple",!1))},dependencies:[r.YG,r.Sm,r.W2,r.Gu,r.Ie,r.Q$,r.fG,r.sr,b.E,C._],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}ion-toolbar[_ngcontent-%COMP%]{background-color:transparent;--opacity: 5%}ion-content[_ngcontent-%COMP%]{--ion-background-color: white}ion-item[_ngcontent-%COMP%]{padding-left:3%;padding-right:3%;padding-top:10%;color:#274662;--border-color: #d75928;--border-style: solid;--border-width: 2px;--border-radius: 20px;font-size:18px}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#000;font-size:18px}.searchable[_ngcontent-%COMP%]{color:#000}ion-button[_ngcontent-%COMP%]{margin-top:15px;--background: #274662;--background-activated: #ffffff;color:#fff}.bnt-menu[_ngcontent-%COMP%]{background-color:#a9cd19}ion-label[_ngcontent-%COMP%]{font-size:20px}"]}),a})()}];let Z=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[g.Bz.forChild(z),g.Bz]}),a})();var k=o(2358),A=o(4560),O=o(4033),J=o(436);let N=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[P.ez,v.u5,r.Pc,Z,A.H,k.C,O.y,J.U,b.E,C._]}),a})()}}]);